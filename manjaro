#!/bin/bash

[ $EUID -ne 0 ] && echo "Please run as root" && exit 1

installApps=("yay" "flameshot" "hplip" "cups" "neovim" "code" "discord" "steam-native" "lutris" "vlc" "libreoffice-fresh" "qbittorrent")
removeApps=("firefox" "yakuake")
yayInstallApps=("google-chrome" "teams" "spotify")

echo "installing..."
# install pacman packages
for app in "${installApps[@]}"
do
    pacman -S $app --noconfirm
done

# install yay packages
yay -S $yayInstallApps --noconfirm

echo "removing..."
for app in "${removeApps[@]}"
do
    pacman -R $app --noconfirm
done

# update all installed apps
pacman -Syu --noconfirm

echo "moving scripts to PATH"
mv cvrt.py scan /usr/bin/

# apparently i have to do this when on gnome
[ $GDMSESSION -eq 'gnome' ] && echo "en_US.UTF-8 UTF-8" >> /etc/locale.gen && locale-gen

echo "done!"
exit 0
